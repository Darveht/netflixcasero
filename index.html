<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WikiExplorer - Modern Wikipedia Search</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background-color: #000;
      color: #e7e9ea;
      line-height: 1.5;
    }

    /* Header estilo Twitter */
    .header {
      position: sticky;
      top: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid #2f3336;
      padding: 12px 20px;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .logo {
      font-size: 24px;
      font-weight: bold;
      color: #1d9bf0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .search-container {
      flex: 1;
      max-width: 600px;
      position: relative;
    }

    .search-input {
      width: 100%;
      background: #202327;
      border: 1px solid #333639;
      border-radius: 9999px;
      padding: 12px 20px 12px 50px;
      color: #e7e9ea;
      font-size: 15px;
      transition: all 0.3s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: #1d9bf0;
      background: #000;
      box-shadow: 0 0 0 1px #1d9bf0;
    }

    .search-icon {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: #71767b;
      font-size: 16px;
    }

    .language-select {
      background: #16181c;
      border: 1px solid #333639;
      border-radius: 20px;
      padding: 8px 16px;
      color: #e7e9ea;
      font-size: 14px;
      cursor: pointer;
    }

    /* Carrusel de art√≠culos destacados */
    .featured-section {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 16px;
      color: #e7e9ea;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .carousel-container {
      position: relative;
      overflow: hidden;
      border-radius: 16px;
      background: #16181c;
      border: 1px solid #2f3336;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.5s ease;
    }

    .carousel-item {
      min-width: 100%;
      padding: 24px;
      display: flex;
      gap: 20px;
      align-items: center;
    }

    .carousel-image {
      width: 200px;
      height: 150px;
      object-fit: cover;
      border-radius: 12px;
      flex-shrink: 0;
    }

    .carousel-content h3 {
      font-size: 24px;
      margin-bottom: 8px;
      color: #e7e9ea;
    }

    .carousel-content p {
      color: #71767b;
      line-height: 1.4;
      margin-bottom: 12px;
    }

    .carousel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.7);
      border: none;
      color: #e7e9ea;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .carousel-nav:hover {
      background: rgba(29, 155, 240, 0.8);
    }

    .carousel-nav.prev {
      left: 16px;
    }

    .carousel-nav.next {
      right: 16px;
    }

    .carousel-dots {
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 16px;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #2f3336;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .dot.active {
      background: #1d9bf0;
    }

    /* Contenedor principal */
    .main-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Grid de resultados mejorado */
    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .result-card {
      background: #16181c;
      border: 1px solid #2f3336;
      border-radius: 16px;
      overflow: hidden;
      transition: all 0.3s ease;
      animation: fadeInUp 0.5s ease forwards;
      opacity: 0;
      transform: translateY(20px);
    }

    .result-card:hover {
      border-color: #1d9bf0;
      transform: translateY(-4px);
      box-shadow: 0 8px 25px rgba(29, 155, 240, 0.15);
    }

    .card-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .result-card:hover .card-image {
      transform: scale(1.05);
    }

    .card-content {
      padding: 16px;
    }

    .card-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 8px;
      color: #e7e9ea;
    }

    .card-snippet {
      color: #71767b;
      margin-bottom: 16px;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .card-actions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .action-btn {
      background: transparent;
      border: 1px solid #2f3336;
      color: #e7e9ea;
      padding: 8px 16px;
      border-radius: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .action-btn:hover {
      background: #1d9bf0;
      border-color: #1d9bf0;
    }

    .action-btn.liked {
      background: #f91880;
      border-color: #f91880;
    }

    .action-btn.following {
      background: #1d9bf0;
      border-color: #1d9bf0;
    }

    .action-btn.favorited {
      background: #ffd400;
      border-color: #ffd400;
      color: #000;
    }

    /* Spinner mejorado */
    .loading-container {
      display: none;
      justify-content: center;
      align-items: center;
      padding: 40px;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid #2f3336;
      border-top: 3px solid #1d9bf0;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .header {
        flex-direction: column;
        gap: 12px;
        padding: 16px;
      }

      .carousel-item {
        flex-direction: column;
        text-align: center;
      }

      .carousel-image {
        width: 100%;
        max-width: 300px;
      }

      .results-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Notificaciones */
    .notification {
      position: fixed;
      top: 80px;
      right: 20px;
      background: #1d9bf0;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1001;
    }

    .notification.show {
      transform: translateX(0);
    }

    /* Trending topics */
    .trending-section {
      margin-top: 40px;
      padding: 20px;
      background: #16181c;
      border-radius: 16px;
      border: 1px solid #2f3336;
    }

    .trending-item {
      padding: 12px 0;
      border-bottom: 1px solid #2f3336;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .trending-item:hover {
      background: rgba(29, 155, 240, 0.1);
    }

    .trending-item:last-child {
      border-bottom: none;
    }

    .trending-title {
      font-weight: bold;
      color: #e7e9ea;
    }

    .trending-stats {
      font-size: 13px;
      color: #71767b;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="logo">
      <i class="fab fa-wikipedia-w"></i>
      WikiExplorer
    </div>
    <div class="search-container">
      <i class="fas fa-search search-icon"></i>
      <input type="text" class="search-input" id="searchInput" placeholder="¬øQu√© quieres descubrir hoy?">
    </div>
    <select class="language-select" id="languageSelect">
      <option value="es">üá™üá∏ Espa√±ol</option>
      <option value="en">üá∫üá∏ English</option>
      <option value="fr">üá´üá∑ Fran√ßais</option>
      <option value="de">üá©üá™ Deutsch</option>
      <option value="pt">üáµüáπ Portugu√™s</option>
      <option value="it">üáÆüáπ Italiano</option>
      <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
      <option value="ja">üáØüáµ Êó•Êú¨Ë™û</option>
      <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
      <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
    </select>
  </header>

  <!-- Carrusel de art√≠culos destacados -->
  <section class="featured-section">
    <h2 class="section-title">
      <i class="fas fa-fire"></i>
      Art√≠culos Destacados
    </h2>
    <div class="carousel-container">
      <div class="carousel-track" id="carouselTrack">
        <!-- Los art√≠culos se cargar√°n din√°micamente -->
      </div>
      <button class="carousel-nav prev" onclick="prevSlide()">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="carousel-nav next" onclick="nextSlide()">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="carousel-dots" id="carouselDots"></div>
    </div>
  </section>

  <!-- Contenedor principal -->
  <main class="main-container">
    <!-- Trending topics -->
    <section class="trending-section">
      <h3 class="section-title">
        <i class="fas fa-chart-line"></i>
        Tendencias de Hoy
      </h3>
      <div id="trendingTopics">
        <!-- Se cargar√°n din√°micamente -->
      </div>
    </section>

    <!-- Loading spinner -->
    <div class="loading-container" id="loadingContainer">
      <div class="spinner"></div>
    </div>

    <!-- Resultados de b√∫squeda -->
    <div class="results-grid" id="resultsGrid"></div>
  </main>

  <!-- Notificaci√≥n -->
  <div class="notification" id="notification"></div>

  <script>
    let currentLanguage = 'es';
    let currentSlide = 0;
    let featuredArticles = [];
    let carouselInterval;

    const translations = {
      follow: { es: 'Seguir', en: 'Follow', fr: 'Suivre', de: 'Folgen', pt: 'Seguir', it: 'Segui', ru: '–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è', ja: '„Éï„Ç©„É≠„Éº', zh: 'ÂÖ≥Ê≥®', ar: 'ŸÖÿ™ÿßÿ®ÿπÿ©' },
      following: { es: 'Siguiendo', en: 'Following', fr: 'Suivi', de: 'Folgt', pt: 'Seguindo', it: 'Seguito', ru: '–ü–æ–¥–ø–∏—Å–∞–Ω', ja: '„Éï„Ç©„É≠„Éº‰∏≠', zh: 'Â∑≤ÂÖ≥Ê≥®', ar: 'ŸÖÿ™ÿßÿ®ÿπ' },
      like: { es: 'Me gusta', en: 'Like', fr: 'J\'aime', de: 'Gef√§llt mir', pt: 'Curtir', it: 'Mi piace', ru: '–ù—Ä–∞–≤–∏—Ç—Å—è', ja: '„ÅÑ„ÅÑ„Å≠', zh: 'ÁÇπËµû', ar: 'ÿ£ÿπÿ¨ÿ®ŸÜŸä' },
      favorite: { es: 'Favorito', en: 'Favorite', fr: 'Favori', de: 'Favorit', pt: 'Favorito', it: 'Preferito', ru: '–ò–∑–±—Ä–∞–Ω–Ω–æ–µ', ja: '„ÅäÊ∞ó„Å´ÂÖ•„Çä', zh: 'Êî∂Ëóè', ar: 'ŸÖŸÅÿ∂ŸÑ' },
      readMore: { es: 'Leer m√°s', en: 'Read more', fr: 'Lire plus', de: 'Mehr lesen', pt: 'Ler mais', it: 'Leggi di pi√π', ru: '–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ', ja: '„ÇÇ„Å£„Å®Ë™≠„ÇÄ', zh: 'ÈòÖËØªÊõ¥Â§ö', ar: 'ÿßŸÇÿ±ÿ£ ÿßŸÑŸÖÿ≤ŸäÿØ' }
    };

    const trendingTopics = [
      { title: 'Inteligencia Artificial', views: '1.2M art√≠culos' },
      { title: 'Cambio Clim√°tico', views: '890K art√≠culos' },
      { title: 'Exploraci√≥n Espacial', views: '650K art√≠culos' },
      { title: 'Biotecnolog√≠a', views: '420K art√≠culos' },
      { title: 'Energ√≠as Renovables', views: '380K art√≠culos' }
    ];

    // Inicializar la aplicaci√≥n
    document.addEventListener('DOMContentLoaded', function() {
      loadFeaturedArticles();
      loadTrendingTopics();
      setupEventListeners();
      startCarouselTimer();
    });

    function setupEventListeners() {
      document.getElementById('searchInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          searchWikipedia();
        }
      });

      document.getElementById('languageSelect').addEventListener('change', function() {
        currentLanguage = this.value;
        loadFeaturedArticles();
      });
    }

    function loadFeaturedArticles() {
      const featuredQueries = ['Ciencia', 'Tecnolog√≠a', 'Historia', 'Arte', 'Naturaleza'];
      const randomQuery = featuredQueries[Math.floor(Math.random() * featuredQueries.length)];

      const url = `https://${currentLanguage}.wikipedia.org/w/api.php?action=query&list=search&srsearch=${randomQuery}&srlimit=5&format=json&origin=*`;

      fetch(url)
        .then(response => response.json())
        .then(data => {
          const results = data.query.search;
          fetchImagesForFeatured(results);
        })
        .catch(error => console.error('Error loading featured articles:', error));
    }

    function fetchImagesForFeatured(articles) {
      const imagePromises = articles.map(article => {
        return fetch(`https://${currentLanguage}.wikipedia.org/w/api.php?action=query&prop=pageimages&titles=${article.title}&pithumbsize=400&format=json&origin=*`)
          .then(response => response.json())
          .then(data => {
            const page = data.query.pages[Object.keys(data.query.pages)[0]];
            const imageUrl = page.thumbnail ? page.thumbnail.source : 'https://via.placeholder.com/400x300/1d9bf0/ffffff?text=Wikipedia';
            return {
              title: article.title,
              snippet: article.snippet,
              imageUrl: imageUrl,
              pageUrl: `https://${currentLanguage}.wikipedia.org/?curid=${article.pageid}`
            };
          });
      });

      Promise.all(imagePromises).then(articlesWithImages => {
        featuredArticles = articlesWithImages;
        displayFeaturedArticles();
      });
    }

    function displayFeaturedArticles() {
      const track = document.getElementById('carouselTrack');
      const dots = document.getElementById('carouselDots');

      track.innerHTML = '';
      dots.innerHTML = '';

      featuredArticles.forEach((article, index) => {
        // Crear slide
        const slide = document.createElement('div');
        slide.className = 'carousel-item';
        slide.innerHTML = `
          <img src="${article.imageUrl}" alt="${article.title}" class="carousel-image">
          <div class="carousel-content">
            <h3>${article.title}</h3>
            <p>${article.snippet}...</p>
            <button class="action-btn" onclick="window.open('${article.pageUrl}', '_blank')">
              <i class="fas fa-external-link-alt"></i>
              ${translations.readMore[currentLanguage]}
            </button>
          </div>
        `;
        track.appendChild(slide);

        // Crear dot
        const dot = document.createElement('div');
        dot.className = `dot ${index === 0 ? 'active' : ''}`;
        dot.onclick = () => goToSlide(index);
        dots.appendChild(dot);
      });
    }

    function loadTrendingTopics() {
      const container = document.getElementById('trendingTopics');
      container.innerHTML = '';

      trendingTopics.forEach(topic => {
        const item = document.createElement('div');
        item.className = 'trending-item';
        item.innerHTML = `
          <div class="trending-title">${topic.title}</div>
          <div class="trending-stats">${topic.views}</div>
        `;
        item.onclick = () => searchSpecific(topic.title);
        container.appendChild(item);
      });
    }

    function searchSpecific(query) {
      document.getElementById('searchInput').value = query;
      searchWikipedia();
    }

    function searchWikipedia() {
      const query = document.getElementById('searchInput').value;
      if (!query.trim()) return;

      const grid = document.getElementById('resultsGrid');
      const loading = document.getElementById('loadingContainer');

      grid.innerHTML = '';
      loading.style.display = 'flex';

      const url = `https://${currentLanguage}.wikipedia.org/w/api.php?action=query&list=search&srsearch=${query}&srlimit=12&format=json&origin=*`;

      fetch(url)
        .then(response => response.json())
        .then(data => {
          const results = data.query.search;
          fetchImagesForResults(results);
        })
        .catch(error => {
          console.error('Error searching Wikipedia:', error);
          showNotification('Error en la b√∫squeda. Int√©ntalo de nuevo.');
          loading.style.display = 'none';
        });
    }

    function fetchImagesForResults(results) {
      const imagePromises = results.map(result => {
        return fetch(`https://${currentLanguage}.wikipedia.org/w/api.php?action=query&prop=pageimages&titles=${result.title}&pithumbsize=400&format=json&origin=*`)
          .then(response => response.json())
          .then(data => {
            const page = data.query.pages[Object.keys(data.query.pages)[0]];
            const imageUrl = page.thumbnail ? page.thumbnail.source : 'https://via.placeholder.com/400x300/16181c/e7e9ea?text=' + encodeURIComponent(result.title);
            return {
              title: result.title,
              snippet: result.snippet,
              imageUrl: imageUrl,
              pageUrl: `https://${currentLanguage}.wikipedia.org/?curid=${result.pageid}`
            };
          });
      });

      Promise.all(imagePromises).then(resultsWithImages => {
        displayResults(resultsWithImages);
        document.getElementById('loadingContainer').style.display = 'none';
      });
    }

    function displayResults(results) {
      const grid = document.getElementById('resultsGrid');
      grid.innerHTML = '';

      results.forEach((result, index) => {
        const card = document.createElement('div');
        card.className = 'result-card';
        card.style.animationDelay = `${index * 0.1}s`;

        card.innerHTML = `
          <img src="${result.imageUrl}" alt="${result.title}" class="card-image">
          <div class="card-content">
            <h3 class="card-title">${result.title}</h3>
            <p class="card-snippet">${result.snippet}...</p>
            <div class="card-actions">
              <button class="action-btn" onclick="window.open('${result.pageUrl}', '_blank')">
                <i class="fas fa-external-link-alt"></i>
                ${translations.readMore[currentLanguage]}
              </button>
              <button class="action-btn" onclick="toggleLike(this)">
                <i class="far fa-heart"></i>
                ${translations.like[currentLanguage]}
              </button>
              <button class="action-btn" onclick="toggleFollow(this)">
                <i class="fas fa-plus"></i>
                ${translations.follow[currentLanguage]}
              </button>
              <button class="action-btn" onclick="toggleFavorite(this)">
                <i class="far fa-star"></i>
                ${translations.favorite[currentLanguage]}
              </button>
            </div>
          </div>
        `;

        grid.appendChild(card);
      });
    }

    // Funciones del carrusel
    function nextSlide() {
      currentSlide = (currentSlide + 1) % featuredArticles.length;
      updateCarousel();
    }

    function prevSlide() {
      currentSlide = (currentSlide - 1 + featuredArticles.length) % featuredArticles.length;
      updateCarousel();
    }

    function goToSlide(index) {
      currentSlide = index;
      updateCarousel();
    }

    function updateCarousel() {
      const track = document.getElementById('carouselTrack');
      const dots = document.querySelectorAll('.dot');

      track.style.transform = `translateX(-${currentSlide * 100}%)`;

      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
      });
    }

    function startCarouselTimer() {
      carouselInterval = setInterval(() => {
        nextSlide();
      }, 7000); // Cambiar cada 7 segundos
    }

    function stopCarouselTimer() {
      clearInterval(carouselInterval);
    }

    // Pausar carrusel al hacer hover
    document.addEventListener('DOMContentLoaded', function() {
      const carousel = document.querySelector('.carousel-container');
      if (carousel) {
        carousel.addEventListener('mouseenter', stopCarouselTimer);
        carousel.addEventListener('mouseleave', startCarouselTimer);
      }
    });

    // Funciones de interacci√≥n
    function toggleLike(button) {
      button.classList.toggle('liked');
      const icon = button.querySelector('i');

      if (button.classList.contains('liked')) {
        icon.className = 'fas fa-heart';
        showNotification('¬°Te gusta este art√≠culo!');
      } else {
        icon.className = 'far fa-heart';
      }
    }

    function toggleFollow(button) {
      button.classList.toggle('following');
      const icon = button.querySelector('i');

      if (button.classList.contains('following')) {
        icon.className = 'fas fa-check';
        button.innerHTML = `<i class="fas fa-check"></i> ${translations.following[currentLanguage]}`;
        showNotification('Ahora sigues este tema');
      } else {
        icon.className = 'fas fa-plus';
        button.innerHTML = `<i class="fas fa-plus"></i> ${translations.follow[currentLanguage]}`;
      }
    }

    function toggleFavorite(button) {
      button.classList.toggle('favorited');
      const icon = button.querySelector('i');

      if (button.classList.contains('favorited')) {
        icon.className = 'fas fa-star';
        showNotification('A√±adido a favoritos');
      } else {
        icon.className = 'far fa-star';
        showNotification('Removido de favoritos');
      }
    }

    function showNotification(message) {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.classList.add('show');

      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }

    // Actualizar art√≠culos destacados cada 7 minutos
    setInterval(loadFeaturedArticles, 7 * 60 * 1000);
  </script>
</body>
</html>
